!function(a){var b=a.iShareNew=function(a){return new b.fn.init(a)};b.fn=b.prototype={g:function(a){return document.getElementById(a)},cssReady:!1,jsReady:!1,infoArray:[],loadUrlShareTime:[],loadUrlShareIndex:0,bossName:{mode:{iShareWrap:"图标式",iShareFloatWrap:"悬浮式右侧",iShareFloatWrapLeft:"悬浮式左侧"},button:{tsina:"新浪微博",tqq:"腾讯微博",QQ:"QQ",qzone:"QQ空间",mail:"QQ邮箱",kaixin001:"开心网",renren:"人人网",weixin:"微信",fb:"Facebook",twitter:"Twitter"}},floatColor:{1:{blue:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r1.gif",black:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r2.gif",gray:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r3.gif",blues:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r4.gif",green:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r5.gif",org:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r6.gif",red:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r7.gif",pink:"http://mat1.gtimg.com/joke/tomiezhang/ishare/r8.gif"},2:{blue:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l1.gif",black:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l2.gif",gray:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l3.gif",blues:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l4.gif",green:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l5.gif",org:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l6.gif",red:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l7.gif",pink:"http://mat1.gtimg.com/joke/tomiezhang/ishare/l8.gif"}},init:function(a){var c,d,e,b=this;if(this.args=a,this.uid=(new Date).getTime()+this.RndNum(8),this.word=a.shareword||document.title,this.pic=a.sharepic||"",this.url=a.shareurl||document.location.href,this.coreJS="http://mat1.gtimg.com/joke/tomiezhang/ishare/jquery.js",this.isShowTime=a.isShowTime||!1,this.coreCSS="http://mat1.gtimg.com/joke/tomiezhang/ishare/isharenew_v1.1.css?20130625v4",this.cssMOD=["iShareWrap","iShareFloatWrap","iShareFloatWrapLeft"],this.ContentId=a.ContentId||"",c="",c+='<div id="iShareNew_'+this.uid+'" class="'+this.cssMOD[this.args.mod]+'"',1==this.args.mod&&a.top&&a.bgStyle||2==this.args.mod&&a.top&&a.bgStyle){for(c+=' style="top:'+a.top+';">',c+='<div class="neibu">',c+='<div class="shareBar"><img src="'+b.floatColor[b.args.mod][a.bgStyle]+'"/></div><div class="shareCoent">',c+='<div class="title"><span class="closeTips" title="不再显示分享按钮"></span>',c+=b.isShowTime?"<em>分享次数:<strong class='showTime_"+this.args.icon+"'></strong></em>":"<em>分享到...</em>",c+="</div>",d=0;d<this.args.share.length;d++)c+='<a href="javascript:;" class="iShare_'+this.args.icon+"_"+b.args.share[d]+'" name="'+b.args.share[d]+'" title="分享到'+b.bossName.button[b.args.share[d]]+'"><span class="icon"></span><span class="text">'+this.bossName.button[b.args.share[d]]+"</span></a>";c+="</div>",c+="</div>"}else{for(c+=">",d=0;d<this.args.share.length;d++)c+='<a href="javascript:;" class="iShare_'+this.args.icon+"_"+b.args.share[d]+'" name="'+b.args.share[d]+'" title="分享到'+b.bossName.button[b.args.share[d]]+'"></a>';b.isShowTime&&(c+="<a href='javascript:;' class='showTime_"+this.args.icon+"'></a>")}c+="</div>",""!==this.ContentId?this.g(this.ContentId).innerHTML=c:(e=(new Date).getTime()+this.RndNum(8),document.write("<div id='shareWRAP_"+e+"'></div>"),this.g("shareWRAP_"+e).innerHTML=c),this.infoArray.push({uid:this.uid,pic:this.pic,word:this.word,url:this.url,mod:this.args.mod,icon:this.args.icon,showtime:this.isShowTime}),this.loadCore(this.coreCSS,"css",function(){b.cssReady=!0,"undefined"!=typeof jQuery?(b.jsReady=!0,b.checkSta()):b.loadCore(b.coreJS,"js",function(){b.jsReady=!0,b.checkSta()})})},getpic:function(){var a=[];return $j("img").length>0&&$j("img").each(function(){$j(this).width()>150&&$j(this).height()>150&&a.push($j(this).attr("src"))}),a},"interface":{getMeta:function(){var a=document.getElementsByTagName("meta"),b="";for(i in a)"undefined"!=typeof a[i].name&&"description"==a[i].name.toLowerCase()&&(b=a[i].content);return b},QQ:function(a,b){return"http://connect.qq.com/widget/shareqq/index.html?url="+encodeURIComponent(b)+"&site=qqcom&iframe=true&showcount=0&desc=&summary=&title=&pics=&style=203&width=19&height=22"},mail:function(a,b,c){return c.length>0?"http://mail.qq.com/cgi-bin/qm_share?url="+encodeURIComponent(b)+"&to=qqmail&desc=&summary="+encodeURIComponent(this.getMeta())+"&title="+encodeURIComponent(a)+"&pics="+encodeURIComponent(c[0])+"&site=":"http://mail.qq.com/cgi-bin/qm_share?url="+encodeURIComponent(b)+"&to=qqmail&desc=&summary="+encodeURIComponent(this.getMeta())+"&title="+encodeURIComponent(a)+"&site="},weixin:function(b,c,d){$j.getScript("http://mat1.gtimg.com/www/weixin/sharewx_v1.0.0.js",function(){var e={title:encodeURIComponent(b),imgsrc:d,url:c,appid:""};return a.sharewx(e),!1})}},getDomain:function(a){var b=/http:\/\/([^\/]+)\//i;return domain=a.match(b),null==domain?"":domain[1]},RndNum:function(a){var c,b="";for(c=0;a>c;c++)b+=Math.floor(10*Math.random());return b},pushDate:function(b,c,d,e){var g,f=this;if(a.bossimg=new Image(1,1),g="","function"==typeof trimUin&&"function"==typeof pgvGetCookieByName)try{g=trimUin(pgvGetCookieByName("o_cookie="))}catch(h){}a.bossimg.src="http://btrace.qq.com/collect?sIp=&iQQ="+g+"&sBiz=ishare&sOp=&iSta=&iTy=1729&iFlow="+f.RndNum(9)+"&mode="+encodeURIComponent(b)+"&button="+encodeURIComponent(c)+"&url="+encodeURIComponent(d)+"&site="+encodeURIComponent(e)},checkSta:function(){var b=this;this.cssReady&&this.jsReady?(window.$j=$j=jQuery.noConflict(),$j.each(this.infoArray,function(a,c){c.showtime&&b.loadUrlShareTime.push({u:"http://i.jiathis.com/url/shares.php?url="+encodeURIComponent(c.url),el:"#iShareNew_"+c.uid,child:".showTime_"+c.icon}),$j("#iShareNew_"+c.uid).find(".showTime_"+c.icon).html("0"),$j("#iShareNew_"+c.uid).find(".closeTips").click(function(){$j("#iShareNew_"+c.uid).hide()}),$j("#iShareNew_"+c.uid).find("a").unbind("click").bind("click",function(){return b.pushDate(b.bossName.mode[$j("#iShareNew_"+c.uid).attr("class")],b.bossName.button[$j(this).attr("name")],c.url,b.getDomain(c.url)),"weixin"==$j(this).attr("name")?b.interface[$j(this).attr("name")](c.word,c.url,c.pic):"mail"==$j(this).attr("name")||"QQ"==$j(this).attr("name")?(c.pic=""==c.pic?b.getpic():[c.pic],window.open(b.interface[$j(this).attr("name")](c.word,c.url,c.pic),"腾讯网ishare","height=485, width=720,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no,top=200,left=200")):window.open("http://s.jiathis.com/?webid="+$j(this).attr("name")+"&url="+encodeURIComponent(c.url)+"&title="+encodeURIComponent(c.word)+"&uid=1626433&jid=1344496797938582&pic="+encodeURIComponent(c.pic),"腾讯网ishare","height=600, width=560,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no,top=200,left=200"),!1}),1==c.mod&&($j("html").css({position:"relative","overflow-x":"hidden"}),$j("."+b.cssMOD[c.mod]).find(".neibu").bind("mouseenter",function(a){a=a?a:window.event;var b=a.srcElement?a.srcElement:a.target;("IMG"==b.tagName||"DIV"==b.tagName)&&$j(this).parent().animate({right:"0px"})}).bind("mouseleave",function(){var a=this;setTimeout(function(){$j(a).parent().animate({right:"-216px"},"fast")},200)})),2==c.mod&&($j("html").css({position:"relative","overflow-x":"hidden"}),$j("."+b.cssMOD[c.mod]).find(".neibu").bind("mouseenter",function(a){("IMG"==a.target.nodeName||"DIV"==a.target.nodeName)&&$j(this).parent().animate({left:"0px"},"fast")}).bind("mouseleave",function(){var a=this;setTimeout(function(){$j(a).parent().animate({left:"-216px"},"fast")},200)}))}),a.$CKE={rdc:function(a){var c=0;c=parseInt(a.shares)<1e3?parseInt(a.shares):Math.ceil(parseInt(a.shares)/1e3)+"K",$j(b.loadUrlShareTime[b.loadUrlShareIndex].el).find(b.loadUrlShareTime[b.loadUrlShareIndex].child).html(c),b.loadUrlShareIndex<b.loadUrlShareTime.length&&$j.getScript(b.loadUrlShareTime[++b.loadUrlShareIndex].u)}},b.loadUrlShareTime.length>0&&$j.getScript(b.loadUrlShareTime[b.loadUrlShareIndex].u)):this.init()},isCssCreat:!1,loadCore:function(a,b,c){var d,f,g,h;if("js"==b)try{d=document.createElement("script"),d.src=a,d.id="coreJS",d.type="text/javascript",this.g("coreJS")||document.getElementsByTagName("head")[0].appendChild(d),d.addEventListener?d.addEventListener("load",c,!1):d.attachEvent&&d.attachEvent("onreadystatechange",function(){(4==d.readyState||"complete"==d.readyState||"loaded"==d.readyState)&&c()})}catch(e){c()}else if(this.isCssCreat)try{h=new Image,h.onerror=c,h.src=a}catch(e){c()}else f=document.createElement("link"),f.type="text/css",f.rel="stylesheet",f.id="coreCSS",f.href=a,this.g("coreCSS")||document.getElementsByTagName("head")[0].appendChild(f),this.isCssCreat=!0,g=this,f.onload=function(){g.isCssLoaded=!0},setTimeout(function(){g.loadCore(a,b,c)},100)}},b.fn.init.prototype=b.fn}(window);